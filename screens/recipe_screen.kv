#:kivy 2.3.1

<RecipeScreen>:

    recipe_input: result.__self__
    name: 'recipe'
    canvas.before:
        Color:
            rgba: .68, .34, .85, 1
        Rectangle:
            pos: self.pos
            size: self.size

    Button:
        text: 'Вернуться к списку рецептов'
        on_press: root.manager.current = 'menu'
        padding: 50
        size_hint: .3, .1
        pos_hint: {'center_x':.17, 'center_y':.9}

    BoxLayout:
        orientation: 'vertical'

        Label:
            id: 'recipe_name'
            text: root.label_text

        Label:
            text: 'Классические граммовки'

        Label:
            text: 'Кастомные граммовки \n \n Выберите ингредиент'

            id: custom_label

        BoxLayout:
            size_hint: None, None
            size: 250, 70
            pos_hint: {'center_x':.5, 'center_y':.9}
            spacing: 10
            Button:
                text: 'белки'
                background_color: 1, 1, 1, 1
                on_press: self.background_color = (0, 1, 0, 1)
                on_release: root.recalculate(egg_white=int(factor.text))
            Button:
                text: 'сахар'
                background_color: 1, 1, 1, 1
                on_press: self.background_color = (0, 1, 0, 1)
                on_release: root.recalculate(sugar=int(factor.text))
            Button:
                text: 'крахмал'
                background_color: 1, 1, 1, 1
                on_press: self.background_color = (0, 1, 0, 1)
                on_release: root.recalculate(starch=int(factor.text))

        TextInput:
            id: factor
            size_hint: None, None
            size: 250, 70
            pos_hint: {'center_x':.5, 'center_y':.9}
            hint_text: 'укажите вес ингредиента для пересчёта'
            input_filter: 'float'
        TextInput:
            id: result
            size_hint: None, None
            size: 250, 150
            pos_hint: {'center_x':.5, 'center_y':.9}
            #text: root.meringue_roll
            hint_text: 'результат'

        Label:
            text: 'Рецепт'

